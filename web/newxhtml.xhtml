<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"   
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
      <title>Gerenciamento do Banco de Dados</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css" />

   </h:head>
   <h:body> 
       
  <h:form id="form_add_book">
       
     <h:panelGrid columns="2">
           <h:outputLabel for="isbn" id="label_isbn" value="ISBN:"/>
            <h:inputText id="isbn" value="#{livrosView.isbn}" required="true" validator="#{livrosView.validaISBN}">
                    <f:validateLength minimum="17" maximum="17"  />
                    </h:inputText>
           <h:outputLabel for="titulo" id="label_titulo" value="Título:"/>
           <h:inputText id="titulo" value="#{livrosView.titulo}" required="true"/>
            <h:outputLabel for="edicao" id="label_edicao" value="Edicao:"/>
            <h:inputText id="edicao" value="#{livrosView.edicao}" required="true" />
              <h:outputLabel id="label_publicacao" for="publicacao" value="Publicacao:"/>
              <h:inputText id="publicacao" value="#{livrosView.publicacao}" required="true" />
              <h:outputLabel for="descricao" id="label_descricao" value="Descrição:"/>
              <h:inputText id="descricao" value="#{livrosView.descricao}"/> 
              <h:commandButton id ="cadastro" value="Cadastrar" action="#{livrosView.addLivros()}" />
       </h:panelGrid>    
      
     </h:form>
       <h:messages />
       
  <hr/>
   <h:form>
       <h:dataTable value="#{livrosView.showLivros()}" var="livro"
         styleClass="livroTable"
         headerClass="livroTableHeader"
         rowClasses="livroTableOddRow,livroTableEvenRow">
         <h:column>    				
            <f:facet name="header">ISBN</f:facet>    				
            <h:inputText value="#{livro.isbn}"
               size="17" rendered="#{livro.canEdit}" />
            <h:outputText value="#{livro.isbn}"
               rendered="#{not livro.canEdit}" />
         </h:column>
         <h:column>
            <f:facet name="header">Titulo</f:facet>
            <h:inputText value="#{livro.titulo}" 
               size="30" rendered="#{livro.canEdit}" />
            <h:outputText value="#{livro.titulo}" 
               rendered="#{not livro.canEdit}" />
         </h:column>
         <h:column>
            <f:facet name="header">Edicao</f:facet>
            <h:inputText value="#{livro.edicao}" size="3"
               rendered="#{livro.canEdit}" />
            <h:outputText value="#{livro.edicao}" 
               rendered="#{not livro.canEdit}" />
         </h:column>
         <h:column>
            <f:facet name="header">Publicação</f:facet>
            <h:inputText value="#{livro.publicacao}" 
               size="4" rendered="#{livro.canEdit}" />
            <h:outputText value="#{livro.publicacao}" 
               rendered="#{not livro.canEdit}" />
         </h:column>
            <h:column>
            <f:facet name="header">Descrição</f:facet>
            <h:inputText value="#{livro.descricao}" 
               size="30" rendered="#{livro.canEdit}" />
            <h:outputText value="#{livro.descricao}" 
               rendered="#{not livro.canEdit}" />
         </h:column>
         <h:column>
            <f:facet name="header">Editar</f:facet>
               <h:commandButton value="Editar" 
                  action="#{livrosView.editLivros(livro)}" 
                  rendered="#{not livro.canEdit}">        
                  <f:setPropertyActionListener target="#{livrosView.livro}" value="#{livro}" />
               </h:commandButton>
         </h:column>
          
         <h:column>
            <f:facet name="header">Apagar</f:facet>
               <h:commandButton value="Apagar" 
                  action="#{livrosView.deleteLivros(livro)}"  >                
                  <f:setPropertyActionListener 
                     target="#{livrosView.livro}" value="#{livro}" />
                  </h:commandButton>
         </h:column>
          
          
        
      </h:dataTable>  
	  <br/>
	<h:commandButton value="Atualizar Livros"
          action="#{livrosView.saveLivros}" />	  
   </h:form>
       
     
       
       
   </h:body>
          
  
</html>